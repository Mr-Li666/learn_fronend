<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    const data = [
    {
        name: 'a1',
        children: [
            { name: 'b', children: [{ name: 'e' }] },
            { name: 'c', children: [{ name: 'f' }] },
            { name: 'd', children: [{ name: 'g' }] },
        ],
    },
    {
        name: 'a2',
        children: [
            { name: 'b2', children: [{ name: 'b22' ,children:[{name:'b222'}]}] },
            { name: 'c2', children: [{ name: 'f2' }] },
            { name: 'd2', children: [{ name: 'g2' }] },
        ],
    }
]



function bfs(data){
  let result = []
  let arr = data;
  
// console.log([...arr])
  while (arr.length) {
      // console.log(arr);
      // console.log(...arr);
      let nowArr= [...arr] ;
      nowArr.forEach(item => {
        arr.shift()
        result.push(item.name)
        if(item.children){
          arr.push(...item.children)
        }
      });
     console.log(arr)
  }

  return result.join('->')
}

console.log(bfs(data))
  </script>
</body>
</html>
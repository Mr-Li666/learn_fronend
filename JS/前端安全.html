<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // 1. xss 跨站脚本攻击：
    // 原理：页面渲染的数据中有可运行的脚本。比如在HTML节点内有一段script脚本，或者在DOM内有一个img标签，当onerror时运行脚本
    // 2种方式：反射型  存储型
    // 如何防御：http响应头中添加xss-protection，值为0关闭，值为1打开，默认为1。  防御反射型
    //          对字符进行转义。比如<>  转译成&lt &gt
    //          内容安全策略：用户指定哪些内容可以执行。在响应头设置content-security-policy
    // Content-Security-Policy: default-src 'self'; img-src *; media-src media1.com media2.com; script-src userscripts.example.com
    //          在meta标签中也可以设置Content-Security-Policy



    // 2.CSRF 跨站请求伪造
    // 原理：恶意网站携带有正常网站的cookie，向正常网站的后端发起请求
    // 用户在a站登录，a站后端询问携带cookie。 b站获取到cookie后，带着cookie向a后端请求
    // 防御：(1)禁止第三方网站携带本网站的cookie：设置same-site属性：strict（所有第三方网站都不能携带）、Lax（链接可以，但是不能进行表单提交和AJAX请求）
//          (2)在登录的时候，添加验证码 或者 token验证


    // 3. 点击劫持：
    // 创建了一个iframe，内嵌一个网站，将iframe设置为透明，覆盖在点击的元素上。当点击时，其实是点击了iframe，从而触发请求
    // 防御：禁止内嵌：设置响应头：x-Frame-Options: 有3个值：
                                  // deny：禁止内嵌
                                  // sameorigin：只允许同域名内嵌
                                  // allow-from：指定可以内嵌的地址

  </script>
</body>
</html>